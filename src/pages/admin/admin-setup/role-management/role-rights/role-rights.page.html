<div style="width: 100%; height:100%; text-align: center;margin-top: -30px" *ngIf="showSpinner">
    <app-spinner></app-spinner>
</div>
<p *ngIf="profileDetails || showContent"
    style="color: #20291f;font-size: 15px;width: 95%;margin: 0 auto;padding-top: 1%;padding-bottom: 1%;">
    {{profileDetails.code}}</p>
<div class="advertiseTop" *ngIf="showContent" style="display: flex;width: 95%;height: 150px;background:#eff0f1;background-image: url('assets/icon/User_profile/checked_icon.png');
margin: 0 auto;">
    <div class="objects-icon" [inlineSVG]="'assets/icon/User_profile/mans.svg'"></div>
    <p class="pText">Manage users permissions and rights according role assigned in the application</p>
</div>

<div class="row" *ngIf="showContent">
    <div class="column1">
        <mat-card class="leaveSetup">
            <mat-card-header>
                <mat-card-subtitle>Leave Setup</mat-card-subtitle>
            </mat-card-header>
            <ion-item class="ionItem" lines="none">
                <ion-label><strong>Allow All</strong></ion-label>
                <ion-checkbox class="ionCheckbox" slot="start" mode="ios" [(ngModel)]="modelLeaveSetup"
                    [indeterminate]="isIndeterminateLeaveSetup" (click)="checkMaster(leaveSetupList, 'leaveSetup')">
                </ion-checkbox>
            </ion-item>
            <ion-list lines="none">
                <ion-item class="ionItem" *ngFor="let item of leaveSetupList">
                    <ion-label>{{item.name}}</ion-label>
                    <ion-checkbox class="ionCheckbox" slot="start" mode="ios" [(ngModel)]="item.isChecked"
                        (ionChange)="checkEvent(leaveSetupList, 'leaveSetup')">
                    </ion-checkbox>
                </ion-item>
            </ion-list>
        </mat-card>

        <mat-card class="reportView">
            <mat-card-header>
                <mat-card-subtitle>Report</mat-card-subtitle>
            </mat-card-header>
            <ion-list lines="none" class="ionItem" *ngFor="let item of reportList"
                style="padding-left: 18px;padding-top: 18px">
                <ion-checkbox class="ionCheckbox" slot="start" mode="ios" [(ngModel)]="item.isChecked"
                    (ionChange)="checkEvent(reportList, 'reportView')">
                </ion-checkbox>
                <mat-form-field appearance="outline" style="width: 76%">
                    <mat-label>{{item.name}}</mat-label>
                    <mat-select [(ngModel)]="item.level" [disabled]="!item.isChecked">
                        <mat-option *ngFor="let item of viewReportList" [value]="item.value">
                            {{item.name}}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
            </ion-list>
        </mat-card>
    </div>
    <div class="column2">
        <mat-card class="leaveManagement">
            <mat-card-header>
                <mat-card-subtitle>Leave Management</mat-card-subtitle>
            </mat-card-header>
            <ion-item class="ionItem" lines="none">
                <ion-label><strong>Allow All</strong></ion-label>
                <ion-checkbox class="ionCheckbox" slot="start" mode="ios" [(ngModel)]="modelLeaveMngtSetup"
                    [indeterminate]="isIndeterminateLeaveMngt"
                    (click)="checkMaster(leaveManagementList, 'leaveManagement')"></ion-checkbox>
            </ion-item>
            <ion-list lines="none" class="ionItem" *ngFor="let item of leaveManagementList"
                style="padding-bottom: 0px;padding-top: 0px;padding-left: 18px;white-space: nowrap;">
                <ion-checkbox class="ionCheckbox" slot="start" mode="ios" [(ngModel)]="item.isChecked"
                    (ionChange)="checkEvent(leaveManagementList, 'leaveManagement')">
                </ion-checkbox>
                <mat-form-field appearance="outline" style="width: 76%">
                    <mat-label>{{item.name}}</mat-label>
                    <mat-select [(ngModel)]="item.level">
                        <mat-option *ngFor="let item of viewReportList" [value]="item.value">
                            {{item.name}}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
            </ion-list>
        </mat-card>

        <mat-card class="calendarView">
            <mat-card-header>
                <mat-card-subtitle>Calendar</mat-card-subtitle>
            </mat-card-header>
            <ion-list lines="none" class="ionItem" *ngFor="let item of calendarList"
                style="padding-left: 18px;padding-top: 18px">
                <ion-checkbox class="ionCheckbox" slot="start" mode="ios" [(ngModel)]="item.isChecked"
                    (ionChange)="checkEvent(calendarList, 'calendarView')">
                </ion-checkbox>
                <mat-form-field appearance="outline" style="width: 76%">
                    <mat-label>{{item.name}}</mat-label>
                    <mat-select [(ngModel)]="item.level" [disabled]="!item.isChecked">
                        <mat-option *ngFor="let item of viewReportList" [value]="item.value">
                            {{item.name}}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
            </ion-list>
        </mat-card>
    </div>
    <div class="column3">
        <mat-card class="profileManagement">
            <mat-card-header>
                <mat-card-subtitle>Profile Management</mat-card-subtitle>
            </mat-card-header>
            <ion-item class="ionItem" lines="none">
                <ion-label><strong>Allow All</strong></ion-label>
                <ion-checkbox class="ionCheckbox" slot="start" mode="ios" [(ngModel)]="modelProfileMngtSetup"
                    [indeterminate]="isIndeterminateProfileMngt"
                    (click)="checkMaster(profileManagementList, 'profileManagement')"></ion-checkbox>
            </ion-item>
            <ion-list lines="none" class="ionItem" *ngFor="let item of profileManagementList"
                style="padding-bottom: 0px;padding-top: 0px;padding-left: 18px;white-space: nowrap;">
                <ion-checkbox class="ionCheckbox" slot="start" mode="ios" [(ngModel)]="item.isChecked"
                    (ionChange)="checkEvent(profileManagementList, 'profileManagement')">
                </ion-checkbox>
                <mat-form-field appearance="outline" style="width: 76%">
                    <mat-label>{{item.name}}</mat-label>
                    <mat-select [(ngModel)]="item.level">
                        <mat-option *ngFor="let item of viewReportList" [value]="item.value">
                            {{item.name}}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
            </ion-list>
        </mat-card>
    </div>
</div>
<div *ngIf="showContent" style="text-align: center;margin: 20px;">
    <ion-button fill="outline" style="font-size: 12px;height: 30px;width: 90px;background: white;" color="primary">
        CANCEL
    </ion-button>
    <div style="width: 10px; display: inline-block"></div>
    <ion-button style="font-size: 12px;height: 30px;width: 100px;" color="primary" (click)="save()">SAVE
    </ion-button>
</div>